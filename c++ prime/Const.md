---
title: Const
updated: 2023-01-28 04:00:23Z
created: 2023-01-28 02:51:39Z
latitude: 30.57281600
longitude: 104.06680100
altitude: 0.0000
completed?: no
---

定义一种变量，变量值无法改变
- const对象必须初始化
- 默认情况下，const对象被设定为仅在文件内有效
- 想要多个文件共享const对象，通过在源文件和头文件中添加extern实现

const的引用
const int ci = 1024;
const int &r1 = ci; //引用也需要是常量
但初始化时允许用任意表达式作为初始值，只要该表达式的结果能够转换成引用的类型即可

const的引用可以引用一个并非const的对象，但无法通过const引用修改对象的值

指向常量的指针不能用于改变其所指对象。包含两层意思：
1. 不能通过该指针改变指向的对象，所以该指针应该也是常量对象，而不能是非常量指针
2. 但是常量指针可以指向非常量对象，只是不能通过指针修改该对象的值，但是可以通过其他方式修改

const指针
- *const ptr； //把*放在const前，意味指针的地址无法改变
- 指针本身（既其地址）是常量以及指针所指的是不是一个常量就是两个相互独立的问题
- 顶层const表示指针本身是常量（*const ptr），底层const表示指针所指对象是一个常量
- 非常量可以转换为常量